!function(e){var t={};function r(l){if(t[l])return t[l].exports;var n=t[l]={i:l,l:!1,exports:{}};return e[l].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,l){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(r.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(l,n,function(t){return e[t]}.bind(null,n));return l},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){r(1),r(2);r(3)},function(e,t){var r=function(e,t,r){"use strict";return e.Crossword=function(e){if(!e)throw new Error("The Crossword must be initialised with a crossword definition.");if(this.width=e.width,this.height=e.height,this.acrossClues=[],this.downClues=[],this.cells=function(e){for(var t=e.width,r=e.height,l=new Array(t),n=0;n<r;n++){l[n]=new Array(r);for(var s=0;s<r;s++)l[n][s]={crossword:e,x:n,y:s}}return l}(this),void 0===this.width||null===this.width||this.width<0||void 0===this.height||null===this.height||this.height<0)throw new Error("The crossword bounds are invalid.");for(var t=e.acrossClues.concat(e.downClues),r=0;r<t.length;r++){var l=t[r],n=r<e.acrossClues.length,s={number:l.number,code:l.number+(n?"a":"d"),answer:l.answer,x:l.x-1,y:l.y-1,across:n,length:[],totalLength:0,clue:l.clue,cells:[]};if(this[n?"acrossClues":"downClues"].push(s),s.x<0||s.x>=this.width||s.y<0||s.y>=this.height)throw new Error("Clue "+s.code+" doesn't start in the bounds.");for(var o=0;o<l.length.length;o++)s.length.push(l.length[o]),s.totalLength+=l.length[o];if(n){if(s.x+s.totalLength>this.width)throw new Error("Clue "+s.code+" exceeds horizontal bounds.")}else if(s.y+s.totalLength>this.height)throw new Error("Clue "+s.code+" exceeds vertical bounds.");for(var a=s.x,u=s.y,c=0;c<s.totalLength;c++){var i=this.cells[a][u];if(i.light=!0,i[n?"acrossClue":"downClue"]=s,i[n?"acrossClueLetterIndex":"downClueLetterIndex"]=c,s.cells.push(i),s.answer){if(void 0!==i.answer&&" "!==i.answer&&i.answer!==s.answer[c])throw new Error("Clue "+s.code+" answer at ("+(a+1)+", "+(u+1)+") is not coherent with previous clue ("+i.acrossClue.code+") answer.");i.answer=s.answer[c]}if(0===c){if(i.clueLabel&&i.clueLabel!==s.number)throw new Error("Clue "+s.code+" has a label which is inconsistent with another clue ("+i.acrossClue.code+").");i.clueLabel=s.number}n?a++:u++}}},e}(r||{},window,document)},function(e,t){var r=function(e,t,r){"use strict";function l(e,t){var r=new RegExp("(?:^|\\s)"+t+"(?!\\S)","g");e.className=e.className.replace(r,"")}function n(){this.map=[]}n.prototype.add=function(e,t){this.map.push({cell:e,cellElement:t})},n.prototype.getCellElement=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t].cell===e)return this.map[t].cellElement;return null},n.prototype.getCell=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t].cellElement===e)return this.map[t].cell;return null},n.prototype.removeCrosswordCells=function(e){for(var t=0;t<this.map.length;t++)this.map[t].cell.crossword===e&&this.map.splice(t,1)};function s(e,t){this.crossword=e,this.parentElement=t;var l=r.createElement("div");l.className="crossword";for(var n=0;n<e.height;n++){var s=r.createElement("div");s.className="cwrow",l.appendChild(s);for(var a=0;a<e.width;a++){var u=e.cells[a][n],c=this._createCellDOM(u);s.appendChild(c),o.add(u,c)}}t.appendChild(l),this.crosswordElement=l}s.prototype.selectClue=function(e){this.currentClue=e,this._updateDOM(),o.getCellElement(e.cells[0]).focus(),this._stateChange("clueSelected")},s.prototype.destroy=function(){o.removeCrosswordCells(this.crossword),this.parentElement.removeChild(this.crosswordElement),this.onStateChanged=null},s.prototype._stateChange=function(e,t){var r=this.onStateChanged;r&&r({message:e,data:t})},s.prototype._createCellDOM=function(e){var t=this,l=r.createElement("div");if(l.className="cwcell",e.cellElement=l,l.className+=e.light?" light":" dark",!e.light)return l;var n=r.createElement("input");if(n.maxLength=1,e.answer&&(n.value=e.answer),l.appendChild(n),e.clueLabel){var s=r.createElement("div");s.className="cwcluelabel",s.innerHTML=e.clueLabel,l.appendChild(s)}return n.addEventListener("focus",(function(e){var r=e.target.parentNode,l=o.getCell(r),n=(l.crossword,l.acrossClue),s=l.downClue;(!t.currentClue||t.currentClue!==n&&t.currentClue!==s)&&(t.currentClue=n&&!s||!n&&s?n||s:0===l.downClueLetterIndex&&0!==l.acrossClueLetterIndex?s:n,t._updateDOM(),t._stateChange("clueSelected"))})),l.addEventListener("keydown",(function(e){if(8===e.keyCode){e.preventDefault(),e.target.value="";var r=e.target.parentNode,l=((i=o.getCell(r)).acrossClue===t.currentClue?i.acrossClueLetterIndex:i.downClueLetterIndex)-1;l>=0&&t.currentClue.cells[l].cellElement.querySelector("input").focus()}else if(9===e.keyCode){e.preventDefault();r=e.target.parentNode;for(var n=(i=o.getCell(r)).crossword,s=t.currentClue,a=s.across?n.acrossClues:n.downClues,u=0;u<a.length;u++)if(s===a[u]){var c=null;c=e.shiftKey?u>0?a[u-1]:s.across?n.downClues[n.downClues.length-1]:n.acrossClues[n.acrossClues.length-1]:u<a.length-1?a[u+1]:s.across?n.downClues[0]:n.acrossClues[0],t.currentClue=c,t._updateDOM(),o.getCellElement(c.cells[0]).querySelector("input").focus();break}}else if(13===e.keyCode){e.preventDefault();var i;r=e.target.parentNode,n=(i=o.getCell(r)).crossword;i.acrossClue&&i.downClue&&(t.currentClue=i.acrossClue===t.currentClue?i.downClue:i.acrossClue,t._updateDOM())}})),l.addEventListener("keypress",(function(e){32===e.keyCode&&e.preventDefault(),e.target.value="";var r=e.target.parentNode,l=o.getCell(r),n=(l.crossword,t.currentClue);function s(e,t,r){for(var l=null==e?"":e,n="";l.length<=t;)l+=" ";for(var s=Math.max(t,l.length),o=0;o<s;o++)n+=o==t?r:l[o];return n}var a=String.fromCharCode(e.keyCode);l.acrossClue&&(l.acrossClue.answer=s(l.acrossClue.answer,l.acrossClueLetterIndex,a)),l.downClue&&(l.downClue.answer=s(l.downClue.answer,l.downClueLetterIndex,a));var u=(l.acrossClue===n?l.acrossClueLetterIndex:l.downClueLetterIndex)+1;u<n.cells.length&&n.cells[u].cellElement.querySelector("input").focus()})),l.addEventListener("keyup",(function(e){switch(e.keyCode){case 37:var t=e.target.parentNode,r=(s=o.getCell(t)).x,l=s.y;s.x>0&&!0===s.crossword.cells[r-1][l].light&&o.getCellElement(s.crossword.cells[r-1][l]).querySelector("input").focus();break;case 38:t=e.target.parentNode,r=(s=o.getCell(t)).x,l=s.y;s.y>0&&!0===s.crossword.cells[r][l-1].light&&o.getCellElement(s.crossword.cells[r][l-1]).querySelector("input").focus();break;case 39:t=e.target.parentNode;var n=(s=o.getCell(t)).crossword.width;r=s.x,l=s.y;s.x+1<n&&!0===s.crossword.cells[r+1][l].light&&o.getCellElement(s.crossword.cells[r+1][l]).querySelector("input").focus();break;case 40:t=e.target.parentNode;var s,a=(s=o.getCell(t)).crossword.height;r=s.x,l=s.y;s.y+1<a&&!0===s.crossword.cells[r][l+1].light&&o.getCellElement(s.crossword.cells[r][l+1]).querySelector("input").focus()}})),l},s.prototype._updateDOM=function(){for(var e,t,r=this.currentClue,n=this.crossword,s=0;s<n.cells.length;s++)for(var a=0;a<n.cells[s].length;a++){var u=n.cells[s][a];!0===u.light&&(u.acrossClue===r||u.downClue===r?(e=o.getCellElement(u).querySelector("input"),t="active",e.className+=" "+t):l(o.getCellElement(u).querySelector("input"),"active"))}};var o=new n;return e.CrosswordDOM=s,e}(r||{},window,document)},function(e,t,r){}]);